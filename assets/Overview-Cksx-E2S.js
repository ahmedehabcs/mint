import{R as e,k as u,a1 as v,M as b,E as f,r as l}from"./index-Py7kvHa0.js";import{g as E}from"./products-DZsIXrs4.js";import{g as h,a as N}from"./orders-D3WQDiqB.js";import{s as y}from"./toastHelper-Cmf0APRO.js";const w=({stats:a,recentOrders:r})=>{const o=t=>t>=1e3?(t/1e3).toFixed(1)+"k":t.toString(),s=[{title:"Total Orders",value:a?.totalOrders||0,icon:e.createElement(u,{className:"w-5 h-5 sm:w-6 sm:h-6"}),color:"blue",bgColor:"bg-[var(--color-blue-bg)]",iconColor:"text-[var(--color-main)]"},{title:"Total Revenue",value:`${o(a?.totalRevenue||0)} EGP`,icon:e.createElement(v,{className:"w-5 h-5 sm:w-6 sm:h-6"}),color:"green",bgColor:"bg-[var(--color-green-bg)]",iconColor:"text-[var(--color-success)]"},{title:"Pending Orders",value:a?.byStatus?.find(t=>t._id==="pending")?.count||0,icon:e.createElement(b,{className:"w-5 h-5 sm:w-6 sm:h-6"}),color:"yellow",bgColor:"bg-[var(--color-yellow-bg)]",iconColor:"text-[var(--color-stock-medium)]"},{title:"Delivered Orders",value:a?.byStatus?.find(t=>t._id==="delivered")?.count||0,icon:e.createElement(f,{className:"w-5 h-5 sm:w-6 sm:h-6"}),color:"purple",bgColor:"bg-[var(--color-purple-bg)]",iconColor:"text-[var(--color-pink-light)]"}];return e.createElement("section",{className:"space-y-8"},e.createElement("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6"},s.map((t,c)=>e.createElement("article",{key:c,className:"rounded-xl sm:rounded-2xl p-4 sm:p-6 border border-[var(--color-border)]"},e.createElement("div",{className:"flex items-center justify-between mb-3 sm:mb-4"},e.createElement("div",{className:`p-2 sm:p-3 rounded-lg sm:rounded-xl ${t.bgColor}`},e.createElement("div",{className:t.iconColor},t.icon))),e.createElement("div",null,e.createElement("p",{className:"text-xs sm:text-sm lg:text-base font-medium text-[var(--color-text-light)] mb-1"},t.title),e.createElement("p",{className:"text-lg sm:text-xl lg:text-2xl xl:text-3xl font-bold text-[var(--color-text)] break-words"},t.value))))),e.createElement("section",{className:"rounded-2xl border border-[var(--color-border)]"},e.createElement("header",{className:"p-6 border-b border-[var(--color-border)]"},e.createElement("div",{className:"flex items-center justify-start"},e.createElement("h3",{className:"text-xl font-bold text-[var(--color-text)]"},"Recent Orders"))),e.createElement("div",{className:"h-[53vh] overflow-y-auto"},e.createElement("table",{className:"w-full"},e.createElement("thead",{className:"sticky bg-[var(--color-background)] top-0 z-10 border-b border-[var(--color-border)]"},e.createElement("tr",null,e.createElement("th",{className:"px-4 lg:px-6 py-4 text-left text-[9px] sm:text-xs font-medium text-[var(--color-text-light)] uppercase tracking-wider"},"Order #"),e.createElement("th",{className:"hidden sm:table-cell px-4 lg:px-6 py-4 text-left text-xs font-medium text-[var(--color-text-light)] uppercase tracking-wider"},"Customer"),e.createElement("th",{className:"px-4 lg:px-6 py-4 text-left text-xs font-medium text-[var(--color-text-light)] uppercase tracking-wider"},"Total"),e.createElement("th",{className:"px-4 lg:px-6 py-4 text-left text-xs font-medium text-[var(--color-text-light)] uppercase tracking-wider"},"Status"),e.createElement("th",{className:"hidden sm:table-cell px-4 lg:px-6 py-4 text-left text-xs font-medium text-[var(--color-text-light)] uppercase tracking-wider"},"Date"))),e.createElement("tbody",{className:"divide-y divide-[var(--color-border)]"},r&&r.length>0?r.slice(0,10).map(t=>e.createElement("tr",{key:t._id,className:"hover:bg-[var(--color-surface)] transition-colors"},e.createElement("td",{className:"px-4 lg:px-6 py-4 text-[9px] sm:text-sm font-medium text-[var(--color-text)]"},t.orderNumber),e.createElement("td",{className:"hidden sm:table-cell px-4 lg:px-6 py-4 text-sm text-[var(--color-text-light)]"},t.customer.name),e.createElement("td",{className:"px-4 lg:px-6 py-4 text-xs font-semibold text-[var(--color-text)]"},t?.total.toFixed(2)||0),e.createElement("td",{className:"px-4 lg:px-6 py-4"},e.createElement("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.status==="pending"?"bg-[var(--color-waiting-bg)] text-[var(--color-waiting-text)]":t.status==="confirmed"?"bg-[var(--color-approved-bg)] text-[var(--color-approved-text)]":t.status==="shipped"?"bg-[var(--color-shipped-bg)] text-[var(--color-shipped-text)]":t.status==="delivered"?"bg-[var(--color-delivered-bg)] text-[var(--color-delivered-text)]":"bg-[var(--color-canceled-bg)] text-[var(--color-canceled-text)]"}`},t.status)),e.createElement("td",{className:"hidden sm:table-cell px-4 lg:px-6 py-4 text-sm text-[var(--color-text-light)]"},new Date(t.createdAt||t.date).toLocaleDateString()))):e.createElement("tr",null,e.createElement("td",{colSpan:"5",className:"px-4 lg:px-6 py-8 text-center text-[var(--color-form-text)]"},"No recent orders found")))))))},R=({setNoteMessage:a})=>{const[r,o]=l.useState([]),[s,t]=l.useState([]),[c,i]=l.useState({}),[d,m]=l.useState(!0);l.useEffect(()=>{x()},[]);const x=async()=>{try{m(!0);const[n,p,g]=await Promise.all([E(),h(),N()]);o(n.data),t(p.data),i(g.data)}catch{y(a,"Failed to load dashboard data",!1)}finally{m(!1)}};return e.createElement("div",{className:"space-y-6"},e.createElement(w,{products:r,recentOrders:s,stats:c,loading:d}))};export{R as default};
