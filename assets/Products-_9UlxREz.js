import{u as f,R as e,j as p,r as u}from"./index-Py7kvHa0.js";import{g as h,d as v}from"./products-DZsIXrs4.js";import{A as g}from"./AdminTable-Ce2ugUIH.js";import{s as x}from"./toastHelper-Cmf0APRO.js";const E=({products:s,loading:l,onEditProduct:n,onDeleteProduct:d})=>{const m=f(),c=()=>{m("/admin/add-product")},o=[{header:"Product",key:"name",width:"200px",render:t=>e.createElement("div",{className:"flex items-center space-x-3"},e.createElement("div",{className:"w-10 h-10 bg-[var(--color-border)] rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0"},t.images&&t.images.length>0?e.createElement("img",{src:t.images[0],alt:t.name,className:"w-full h-full object-cover"}):e.createElement("span",{className:"text-[var(--color-form-text)] text-xs"},"No Image")),e.createElement("div",{className:"min-w-0"},e.createElement("div",{className:"text-sm font-medium text-[var(--color-text)] truncate"},t.name)))},{header:"Category",key:"category",width:"100px",className:"hidden sm:table-cell",cellClassName:"hidden sm:table-cell",render:t=>e.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[var(--color-accent)]/10 text-[var(--color-accent)] capitalize"},t.category)},{header:"Price",key:"price",width:"100px",className:"hidden sm:table-cell",cellClassName:"hidden sm:table-cell",render:t=>e.createElement("span",{className:"text-sm font-semibold text-[var(--color-text)]"},t.price," EGP")},{header:"Stock",key:"stock",width:"100px",render:t=>{const r=t.variants?t.variants.reduce((a,i)=>a+(i.stock||0),0):t.stock||0;return e.createElement("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r>=6?"bg-[var(--color-stock-high-bg)] text-[var(--color-stock-high-text)]":r>0?"bg-[var(--color-stock-medium)]/20 text-[var(--color-stock-medium-text)]":"bg-[var(--color-stock-medium-text)]/10 text-[var(--color-stock-low-text)]"}`},r>=6?"In Stock":`${r} left`)}}];return e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},e.createElement("div",null,e.createElement("h2",{className:"text-2xl font-bold text-[var(--color-text)]"},"Products"),e.createElement("p",{className:"text-[var(--color-text-light)]"},"Manage your product inventory")),e.createElement("button",{onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-[var(--color-main)] text-white rounded-lg hover:bg-[var(--color-main)]/90 transition-colors"},e.createElement(p,{size:20}),e.createElement("span",null,"Add Product"))),e.createElement(g,{title:"",description:"",data:s,loading:l,columns:o,onEdit:n,onDelete:d,emptyMessage:"No products found",showActions:!0,showRefresh:!1}))},k=({setNoteMessage:s})=>{const l=f(),[n,d]=u.useState([]),[m,c]=u.useState(!0);u.useEffect(()=>{o()},[]);const o=async()=>{try{c(!0);const a=await h();d(a.data)}catch{x(s,"Failed to load products",!1)}finally{c(!1)}},t=a=>{l(`/admin/edit-product/${a._id}`)},r=async a=>{if(window.confirm("Are you sure you want to delete this product?"))try{await v(a),x(s,"Product deleted successfully",!0),o()}catch(i){x(s,i?.response?.data?.message||"Failed to delete product",!1)}};return e.createElement("div",{className:"space-y-6"},e.createElement(E,{products:n,loading:m,onEditProduct:t,onDeleteProduct:r}))};export{k as default};
