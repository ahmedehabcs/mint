import{u,R as e,J as v,V as g,m as f,r as i,F as E,v as b,h as N,j as y,W as w,X as k,Y as C,k as F,y as z,Z as A,_ as L,$ as P,a0 as j}from"./index-Py7kvHa0.js";import{s as x}from"./toastHelper-Cmf0APRO.js";const D=({sidebarOpen:r,setSidebarOpen:t})=>{const l=u();return e.createElement("header",{className:"border-b border-[var(--color-border)] h-18"},e.createElement("div",{className:"px-4 lg:px-8 py-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center space-x-3"},e.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-[var(--color-main)] to-[var(--color-main-dark)] rounded-xl flex items-center justify-center"},e.createElement("span",{className:"text-[var(--color-background)] font-bold text-lg"},"A")),e.createElement("div",null,e.createElement("h1",{className:"text-xl lg:text-2xl font-bold text-[var(--color-text)]"},"Admin Dashboard"),e.createElement("p",{className:"text-sm text-[var(--color-text-light)] hidden sm:block"},"Manage your store"))),e.createElement("nav",{className:"flex items-center space-x-3"},e.createElement("button",{onClick:()=>l("/"),className:"hidden sm:flex items-center space-x-2 px-3 lg:px-4 py-2 rounded-xl text-[var(--color-main)] hover:bg-[var(--color-main)]/10 transition-all duration-200"},e.createElement(v,{size:18}),e.createElement("span",{className:"text-sm lg:text-base font-medium"},"Home")),e.createElement("button",{onClick:()=>t(!r),className:"xl:hidden p-2 rounded-lg hover:bg-[var(--color-hover)] text-[var(--color-main)] transition-colors"},e.createElement(g,{size:24}))))))},H=({sidebarOpen:r,setSidebarOpen:t,handleLogout:l,role:m})=>{const o=u(),c=f(),[n,s]=i.useState(!1);let d=[{id:"overview",label:"Overview",icon:e.createElement(k,null),path:"/admin/dashboard/overview"},{id:"products",label:"Products",icon:e.createElement(C,null),path:"/admin/dashboard/products"},{id:"orders",label:"Orders",icon:e.createElement(F,null),path:"/admin/dashboard/orders"},{id:"coupons",label:"Coupons",icon:e.createElement(z,null),path:"/admin/dashboard/coupons"},{id:"admins",label:"Admins",icon:e.createElement(A,null),path:"/admin/dashboard/admins"}];return m!=="super"&&(d=d.filter(a=>a.id!=="coupons"&&a.id!=="admins")),e.createElement(e.Fragment,null,r&&e.createElement("div",{className:"fixed inset-0 bg-blur z-40 lg:hidden",onClick:()=>t(!1)}),e.createElement("nav",{className:`w-64 flex flex-col bg-[var(--color-background)] top-0
                transition-transform duration-300 ease-in-out
                fixed lg:static left-0 z-50 border-r border-[var(--color-border)]
                h-dvh lg:h-[calc(100vh-4.5rem)]
                ${r?"translate-x-0":"-translate-x-full lg:translate-x-0"}`},e.createElement("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--color-border)] lg:hidden"},e.createElement("h2",{className:"text-base font-semibold text-[var(--color-main)]"},"Admin Dashboard"),e.createElement("button",{onClick:()=>t(!1)},e.createElement(E,{size:20,className:"text-[var(--color-text-light)]"}))),e.createElement("div",{className:"flex-1 overflow-y-auto py-4"},e.createElement("nav",{className:"space-y-1"},d.map(a=>{const p=c.pathname.startsWith(a.path);return e.createElement("div",{key:a.id},e.createElement("button",{onClick:()=>{o(a.path),t(!1)},className:`w-full flex items-center justify-between px-4 py-2.5 
                                        text-sm font-medium rounded-lg transition-all duration-150
                                        ${p?"bg-[var(--color-hover)] text-[var(--color-text)]":"text-[var(--color-text-light)] hover:bg-[var(--color-hover)] hover:text-[var(--color-text)]"}`},e.createElement("span",{className:"flex items-center space-x-2"},a.icon,e.createElement("span",null,a.label)),a.id==="products"&&e.createElement("span",{onClick:h=>{h.stopPropagation(),s(!n)},className:"ml-2 cursor-pointer"},n?e.createElement(b,{size:16}):e.createElement(N,{size:16}))),a.id==="products"&&n&&e.createElement("button",{onClick:()=>{o("/admin/add-product"),t(!1)},className:`ml-8 mt-1 flex items-center space-x-2 px-3 py-2 rounded-md\r
                                            text-xs font-medium text-[var(--color-text-light)]\r
                                            hover:bg-[var(--color-hover)] hover:text-[var(--color-text)] transition`},e.createElement(y,{size:14}),e.createElement("span",null,"Add Product")))}))),e.createElement("div",{className:"border-t border-[var(--color-border)] py-3 space-y-1"},e.createElement("button",{onClick:()=>{o("/"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-2.5 text-sm rounded-lg\r
                        text-[var(--color-text-light)] hover:bg-[var(--color-hover)] hover:text-[var(--color-text)] transition`},e.createElement(v,{size:18}),e.createElement("span",null,"Home")),e.createElement("button",{onClick:()=>{l(),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-2.5 text-sm rounded-lg\r
                        text-[var(--color-error)] hover:bg-[var(--color-canceled-bg)] transition`},e.createElement(w,{size:18}),e.createElement("span",null,"Logout")))))},$=({setNoteMessage:r})=>{const[t,l]=i.useState(!1),m=u(),[o,c]=i.useState(null);i.useEffect(()=>{(async()=>{try{const s=await L();c(s.data)}catch{c(null)}})()},[]);const n=async()=>{try{await j(),x(r,"Logged out successfully",!0),m("/")}catch{x(r,"Logout failed",!1)}};return e.createElement("div",{className:"min-h-screen bg-[var(--color-background)]"},e.createElement(D,{sidebarOpen:t,setSidebarOpen:l}),e.createElement("div",{className:"flex lg:pt-0"},e.createElement(H,{sidebarOpen:t,setSidebarOpen:l,handleLogout:n,role:o?.role}),e.createElement("main",{className:"flex-1 p-6 lg:p-8 lg:ml-0"},e.createElement(P,null))))};export{$ as default};
